<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Piste – Coach Simon</title>
  <style>
    :root{
      --grass:#1f8f3a;
      --track:#2aa14a;
      --line:#ffffff;
      --shadow:rgba(0,0,0,.25);
      --text:#eafff0;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 50% 30%, #2fb556 0%, var(--grass) 55%, #16702b 100%);
      color:var(--text);
      overflow:hidden;
    }
    .wrap{
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .card{
      width:min(980px, 100%);
      aspect-ratio: 16/9;
      border-radius:22px;
      position:relative;
      overflow:hidden;
      box-shadow: 0 18px 60px var(--shadow);
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.30));
    }

    /* Track */
    .track{
      position:absolute;
      inset: 10% 7% 12% 7%;
      border-radius: 26px;
      background:
        /* subtle texture */
        repeating-linear-gradient(135deg, rgba(255,255,255,.05) 0 6px, rgba(0,0,0,.05) 6px 12px),
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.10)),
        var(--track);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.10), inset 0 -40px 80px rgba(0,0,0,.22);
    }
    .lane{
      position:absolute;
      left:6%;
      right:6%;
      height: 13%;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
    }
    .lane:nth-child(1){ top:18%; }
    .lane:nth-child(2){ top:36%; }
    .lane:nth-child(3){ top:54%; }
    .lane:nth-child(4){ top:72%; }

    .lane::before, .lane::after{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: 999px;
      background:
        linear-gradient(90deg,
          transparent 0%,
          transparent 6%,
          rgba(255,255,255,.95) 6%,
          rgba(255,255,255,.95) 6.6%,
          transparent 6.6%,
          transparent 100%);
      opacity:.9;
      pointer-events:none;
    }
    /* dashed center line */
    .lane::after{
      inset: 38% 7% 38% 7%;
      background: repeating-linear-gradient(90deg, rgba(255,255,255,.9) 0 12px, transparent 12px 22px);
      opacity:.75;
      filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
    }

    .markers{
      position:absolute;
      top:12%;
      bottom:12%;
      left:7%;
      right:7%;
      pointer-events:none;
    }
    .marker{
      position:absolute;
      top:0; bottom:0;
      width:2px;
      background: rgba(255,255,255,.35);
      filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
    }
    .marker strong{
      position:absolute;
      top: 6px;
      left: 6px;
      font-size: 12px;
      color: rgba(234,255,240,.9);
      text-shadow: 0 1px 0 rgba(0,0,0,.35);
      font-weight:700;
    }

    /* Fighter (pixel-ish) */
    .runner{
      position:absolute;
      left: 11%;
      top: 58%;
      width: 56px;
      height: 56px;
      transform: translate(-50%, -50%);
      will-change: transform;
      animation: runX 4.2s linear infinite alternate;
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.35));
    }
    /* bounce between lanes slightly */
    .runner .body{
      width:100%;
      height:100%;
      position:relative;
      animation: bob 360ms ease-in-out infinite;
    }

    /* simple “street-fighter vibe” sprite using CSS blocks */
    .px{ position:absolute; background:#111; }
    .skin{ background:#f2c7a1; }
    .red{ background:#cf2e2e; }
    .blue{ background:#2d62d7; }
    .white{ background:#f7f7f7; }
    .gold{ background:#f0c04a; }

    /* Head */
    .h1{ left:18px; top:6px; width:20px; height:18px; background:#111; border-radius:6px; }
    .h2{ left:21px; top:9px; width:14px; height:12px; border-radius:4px; }
    .band{ left:18px; top:10px; width:20px; height:4px; }
    .eye{ left:28px; top:14px; width:4px; height:3px; background:#fff; }
    .eye::after{ content:""; position:absolute; left:2px; top:1px; width:2px; height:2px; background:#111; }

    /* Torso */
    .t1{ left:18px; top:24px; width:22px; height:16px; border-radius:6px; }
    .belt{ left:18px; top:34px; width:22px; height:4px; }
    .badge{ left:34px; top:26px; width:6px; height:6px; border-radius:2px; }

    /* Arms / legs */
    .a1{ left:10px; top:26px; width:10px; height:8px; border-radius:4px; transform-origin:right center; animation:punch 360ms ease-in-out infinite; }
    .a2{ left:38px; top:28px; width:10px; height:8px; border-radius:4px; transform-origin:left center; animation:punch2 360ms ease-in-out infinite; }
    .l1{ left:20px; top:40px; width:10px; height:12px; border-radius:4px; transform-origin:top center; animation:step 360ms ease-in-out infinite; }
    .l2{ left:30px; top:40px; width:10px; height:12px; border-radius:4px; transform-origin:top center; animation:step2 360ms ease-in-out infinite; }
    .shoe{ left:18px; top:50px; width:12px; height:5px; border-radius:3px; }
    .shoe2{ left:30px; top:50px; width:12px; height:5px; border-radius:3px; }

    @keyframes runX{
      0%{ transform: translate(-50%, -50%) translateX(0) }
      100%{ transform: translate(-50%, -50%) translateX(calc(100vw * 0.42)) }
    }
    /* keep runner within card instead of viewport */
    @media (min-width: 1px){
      .runner{ animation-name: runXCard; }
      @keyframes runXCard{
        0%{ transform: translate(-50%, -50%) translateX(0) }
        100%{ transform: translate(-50%, -50%) translateX(620px) }
      }
    }
    @keyframes bob{ 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-2px) } }
    @keyframes punch{ 0%,100%{ transform:rotate(10deg) } 50%{ transform:rotate(-18deg) } }
    @keyframes punch2{ 0%,100%{ transform:rotate(-8deg) } 50%{ transform:rotate(16deg) } }
    @keyframes step{ 0%,100%{ transform:rotate(12deg) } 50%{ transform:rotate(-18deg) } }
    @keyframes step2{ 0%,100%{ transform:rotate(-14deg) } 50%{ transform:rotate(20deg) } }

    /* HUD (styles laissés en place même si on a retiré le bloc HTML) */
    .hud{
      position:absolute;
      left:18px;
      top:14px;
      right:18px;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      pointer-events:none;
    }
    .tag{
      background: rgba(0,0,0,.32);
      border: 1px solid rgba(255,255,255,.14);
      padding:10px 12px;
      border-radius:14px;
      backdrop-filter: blur(6px);
      font-weight:700;
      font-size:14px;
      letter-spacing:.2px;
      box-shadow: 0 10px 20px rgba(0,0,0,.22);
    }
    .tag small{
      display:block;
      margin-top:4px;
      font-weight:600;
      opacity:.85;
    }
    .watermark{
      position:absolute;
      right:14px;
      bottom:12px;
      font-weight:800;
      opacity:.35;
      letter-spacing:.8px;
      text-transform:uppercase;
      font-size:12px;
      text-shadow: 0 1px 0 rgba(0,0,0,.35);
      pointer-events:none;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">

      <div class="track" aria-hidden="true">
        <div class="lane"></div>
        <div class="lane"></div>
        <div class="lane"></div>
        <div class="lane"></div>

        <div class="markers" id="markers"></div>

        <div class="runner" id="runner">
          <div class="body">
            <div class="px h1"></div>
            <div class="px h2 skin"></div>
            <div class="px band red"></div>
            <div class="px eye"></div>

            <div class="px t1 blue"></div>
            <div class="px belt red"></div>
            <div class="px badge gold"></div>

            <div class="px a1 red"></div>
            <div class="px a2 red"></div>

            <div class="px l1 blue"></div>
            <div class="px l2 blue"></div>
            <div class="px shoe white"></div>
            <div class="px shoe2 white"></div>
          </div>
        </div>
      </div>

      <div class="watermark">Coach Simon</div>
    </div>
  </div>

  <script>
    // Simple query params: ?m=200&name=Coach%20Simon
    const qs = new URLSearchParams(location.search);
    const meters = qs.get("m");
    const name = qs.get("name");
    if (name) document.querySelector(".watermark").textContent = name;

    // Add a few distance markers
    const markers = document.getElementById("markers");
    const n = 6;
    for (let i=1;i<=n;i++){
      const el = document.createElement("div");
      el.className = "marker";
      el.style.left = (i*(100/(n+1))) + "%";
      const lab = document.createElement("strong");
      lab.textContent = i*10;
      el.appendChild(lab);
      markers.appendChild(el);
    }
  </script>
</body>
</html>
